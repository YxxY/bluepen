(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{767:function(_,e,s){"use strict";s.r(e);var n=s(51),v=Object(n.a)({},(function(){var _=this,e=_.$createElement,s=_._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[s("p",[_._v("当存储字段值长度超过限定范围(eg：string varchar(255)), mysql默认会抛出错误, 如果需要自动截断, 可以如下设置：")]),_._v(" "),s("ul",[s("li",[_._v("查询当前 sql_mode并记录， 用于修改后恢复"),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[_._v("SELECT @@GLOBAL.sql_mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(";")]),_._v("\nSELECT @@"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[_._v("SESSION")]),_._v(".sql_mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v(";")]),_._v("\n")])]),_._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[_._v("1")]),s("br"),s("span",{staticClass:"line-number"},[_._v("2")]),s("br")])])]),_._v(" "),s("li",[_._v("去掉 "),s("code",[_._v("STRICT_TRANS_TABLES")]),_._v("即可\n"),s("ul",[s("li",[_._v("以 管理员权限登录服务器， 设置全局 sql_mode，去除限制, "),s("code",[_._v("SET @@GLOBAL.sql_mode='';")])]),_._v(" "),s("li",[_._v("另一种不需要权限的方式， 是建立连接后，设置此次会话的sql_mode： "),s("code",[_._v("SET @@SESSION.sql_mode='';")])])])])]),_._v(" "),s("p",[_._v("sql_mode常用值:")]),_._v(" "),s("ul",[s("li",[s("code",[_._v("ONLY_FULL_GROUP_BY")]),_._v("\n对于GROUP BY聚合操作，如果在SELECT中的列，没有在GROUP BY中出现，那么这个SQL是不合法的")]),_._v(" "),s("li",[s("code",[_._v("STRICT_TRANS_TABLES")]),_._v("\n在该模式下，如果一个值不能插入到一个事务表中，则中断当前的操作，对非事务表不做限制")]),_._v(" "),s("li",[s("code",[_._v("NO_ZERO_IN_DATE")]),_._v("\n在严格模式下，不允许日期和月份为零")]),_._v(" "),s("li",[s("code",[_._v("NO_ZERO_DATE")]),_._v("\n设置该值，mysql数据库不允许插入零日期，插入零日期会抛出错误而不是警告。")]),_._v(" "),s("li",[s("code",[_._v("ERROR_FOR_DIVISION_BY_ZERO")]),_._v("\n在INSERT或UPDATE过程中，如果数据被零除，则产生错误而非警告。如果未给出该模式，那么数据被零除时MySQL返回NULL")]),_._v(" "),s("li",[s("code",[_._v("NO_AUTO_CREATE_USER")]),_._v("\n禁止GRANT创建密码为空的用户")]),_._v(" "),s("li",[s("code",[_._v("NO_ENGINE_SUBSTITUTION")]),_._v("\n如果需要的存储引擎被禁用或未编译，那么抛出错误。不设置此值时，用默认的存储引擎替代，并抛出一个异常")]),_._v(" "),s("li",[s("code",[_._v("PIPES_AS_CONCAT")]),_._v('\n将"||"视为字符串的连接操作符而非或运算符，这和Oracle数据库是一样的，也和字符串的拼接函数Concat相类似')]),_._v(" "),s("li",[s("code",[_._v("ANSI_QUOTES")]),_._v("\n启用ANSI_QUOTES后，不能用双引号来引用字符串，因为它被解释为识别符")])])])}),[],!1,null,null,null);e.default=v.exports}}]);